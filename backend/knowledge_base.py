# knowledge_base.py

# --- Database A: 模拟最近社交媒体热点话题 (RAG 检索源) ---
# 在实际生产环境中，这里应该连接爬虫API
TRENDING_TOPICS = [
    "AI大模型实战应用，普通人如何不被淘汰？",
    "2024年内容创作者的变现新风口",
    "职场35岁危机：是焦虑还是新机遇？",
    "DeepSeek V3国产模型爆火，对行业意味着什么？",
    "年轻人为什么越来越不爱发朋友圈了？"
]

# --- Database B: 风格参考知识库 (Style Knowledge Base) ---
# 用户在下拉菜单选择风格时，其实是在切换不同的 System Prompt
STYLE_KNOWLEDGE_BASE = {
    "低碳科研论文导读 (深度专业)": """
    【角色设定】
    你是一位资深的低碳领域科研主编，擅长将晦涩的学术论文转化为有深度的导读文章。
    
    【写作风格】
    - 语气：理性、客观、学术感强烈、逻辑严谨、语句通顺。
    - 逻辑：金字塔原理，结论先行，数据支撑。
    - 结构要求：
      1. **核心发现**：一句话概括论文解决了什么痛点。
      2. **背景与痛点**：为什么要做这个研究？
      3. **方法论拆解**：用通俗语言解释核心技术/模型（Technical Depth）。
      4. **实验结果**：数据对比，展示SOTA效果。
      5. **行业启示**：对低碳/景观行业的实际应用价值。
    """,

    "儿童活动推荐 (趣味引流)": """
    【角色设定】
    你是一位充满活力、亲和力爆棚的亲子活动策划。
    
    【写作风格】
    - 语气：热情洋溢、画面感强。
    - 痛点抓取：针对家长的“神兽放电”、“自然教育”、“远离屏幕”需求。
    - 结构要求：
      1. **吸睛开头**：用痛点或美好场景切入（例如：“终于！家门口的自然博物馆开课啦！”）。
      2. **活动亮点**：3-4个必玩理由（沉浸式体验/动手能力/社交）。
      3. **教育价值**：不只是玩，还能学到什么（PBL/STEAM）。
      4. **行动号召**：名额有限，结尾必须引导立即报名。
    """,

    "官方活动/会议报道 (正式说明)": """
    【角色设定】
    你是一位政府或学术机构的新闻发言人，负责撰写官方通稿。
    
    【写作风格】
    - 语气：庄重、正式、严谨、第三人称。
    - 关键词：圆满召开、深入交流、达成共识、高度评价。
    - 结构要求：
      1. **导语**：时间、地点、主办方、会议主题、出席嘉宾（Title要准确）。
      2. **会议内容**：主要议程、致辞重点、核心观点摘要。
      3. **会议成果**：发布了什么报告/签订了什么协议/达成了什么共识。
      4. **结语**：会议的深远意义及未来展望。
    """,

    "常规节气推送（账号塑造）": """
    【角色设定】
    你是一位资深的传统文化内容创作者，专注于节气文化的传播。

    【写作风格】
    - 语气：温暖、诗意、富有画面感。
    - 关键词：节气习俗、养生之道、文化传承、自然韵律。
    - 结构要求：
      1. **开头**：以节气为主题，介绍节气特性、习俗、意义。
      2. **正文**：以节气为中心，介绍节气养生、饮食、起居、出行、娱乐等内容。
      3. **结尾**：总结节气特点，引导读者思考。
    """
}

STYLE_SAMPLES = {
    "低碳科研论文导读 (深度专业)": """
    - 开头：本文以城市绿地植被碳收支作为评估城市绿地碳平衡的重要指标，以天津市内六区不同类型绿地为研究对象，研究评估了天津市内六区不同类型绿地植被碳收支水平，准确了解气候变化背景下城市绿地植被的相关生态环境效益，为天津市及周边地区提升绿地碳收支能力的精细化治理和调控提供参考。
    - 内容：
        研究数据与方法
            2.1研究地区
            长沙（北纬27°51′–28°41′，东经111°53′–114°15′），湖南省省会，位于中国中南部。属亚热带季风气候，夏季炎热潮湿，年平均气温18.5°C，年降水量1368.8mm。长沙的城镇化率从1978年的20.50%上升到2019年的79.56%。长沙的植被属于亚热带常绿阔叶林。2020年长沙市绿化覆盖率为43.40%，城市公园类型多样，如综合公园、社区公园、袖珍公园、沿江绿化带等。2019年，人均公园面积为11.57m2这个数字计划增加到12 m2在2035年。我们将研究区域限制在长沙的三环路内。
    - 结尾：本研究采用新颖的SEM方法，综合研究了长沙市公园与周围缓冲区之间的相互热相互作用，并表明公园的几何形态（即公园大小）、公园内的景观格局（即树木和水覆盖的百分比、树木平均斑块大小、和树木平均形状指数）和公园外的景观格局（即不透水表面、裸露土地和水覆盖的百分比）都会显著影响 PCII。公园外不透水表面的百分比是主要驱动因素，其次是公园面积，以及公园内树木和水覆盖的百分比。
    """,

    "儿童活动推荐 (趣味引流)": """
    - 开头：为迎接第55个世界地球日，2024年4月20日上午10:00 ，低碳数字植物园与天津市生态学会联合举办了主题为“花开有期，春风有信”的科普活动。本次活动邀请了20名小学生参加，旨在通过一系列寓教于乐的环节，提升小朋友们对环境问题的认识，并激发他们投身低碳生活的热情。
    - 内容：
        1. 低碳知识讲解与互动
            活动伊始，低碳科普大使带领小朋友们溯源世界地球日，并为他们详细讲解了世界地球日的意义与低碳知识，让他们了解到节能减排、保护环境的重要性。
        2. 植物知识讲解与互动
            接着进行的植物知识问答环节更是将现场气氛推向高潮，小朋友们积极举手发言，争相展示自己的学习成果
        3. 花卉标本制作与展示
            最后的花卉标本制作环节则让小朋友们亲手触摸自然感受生命的奇妙，并通过展示自己制作的标本作品来分享他们的学习成果和创造乐趣。    
        4. 参与人员反馈:我对这次低碳数字植物园科普活动的成功举办感到非常高兴。此次活动不仅加深了小学生对于低碳环保重要性的认识，而且让他们亲身体验到了植物学的魅力。通过动手制作植物标本，小朋友们不仅学到了如何观察和记录自然界的美丽，还培养了他们的环保意识和责任感。我相信这样的实践活动能有效提升下一代对于生态保护的认知，同时也为我们树立了一个很好的科普示范作用。
        5. 组织人员反馈：看到小朋友们热情高涨，积极参与，我深信这是对未来可持续发展的有力投资。期待未来能有更多类似的科普活动，让更多的青少年参与到生态环境保护中来，共同构建生态文明的美好明天。愿绿色铺满大地，望蓝色链接天海。
    - 结尾：“花开有期，春风有信”科普活动不仅为小朋友们提供了一个充满趣味与知识的春日体验，更重要的是通过丰富多彩的环节设计，成功地向他们传递了低碳和环保的理念。小朋友们在轻松愉快的氛围中学习到了宝贵的知识，同时也感受到了成长的喜悦。期待未来能够举办更多此类结合教育与娱乐的活动，让孩子们在探索和学习的道路上不断前行，同时培养他们对美好环境的珍视和保护意识。
    """,

    "官方活动/会议报道 (正式说明)": """
    - 开头：2024年3月15日，由天津市生态环境局主办的“绿色发展与生态文明建设”高峰论坛在天津国际会议中心隆重召开。此次论坛汇聚了来自政府部门、学术界和企业界的众多专家学者，共同探讨生态文明建设的新路径和绿色发展的新机遇。
    - 内容：
        1. 主持人致辞
            主持人首先对论坛的召开表示热烈的祝贺，并对论坛的主题和议题进行了简要介绍。他表示，本次论坛的召开，既是生态文明建设的又一次重要实践，也是生态环境保护与治理的又一次重要探索。
        2. 嘉宾致辞
            随后，论坛邀请了来自不同领域的嘉宾发表了主题演讲。他们分别就生态环境保护、绿色发展、碳达峰、碳中和等议题进行了深入的探讨和交流。
        3. 论坛总结
            最后，主持人对本次论坛进行了总结。他表示，本次论坛的召开，既是生态文明建设的又一次重要实践，也是生态环境保护与治理的又一次重要探索。他希望与会者能够以此次论坛为契机，进一步加强交流与合作，共同推动生态文明建设的不断深入。
    - 结尾：本次论坛深化对生态文明建设理解，增进跨领域合作交流共识。共同为建设美丽中国贡献力量。
    """,

    "常规节气推送（账号塑造）": """
    - 开头：《月令七十二候集解》载：“大者，盛也。至此而雪盛矣。”此时的雪，非仅初现，乃是纷扬；不惟点缀，意在覆盖。古人观天之微，察地之变，以“大雪”为此时命名。天地由此进入一个更为沉静、纯粹，也更为庄严的阶段。
    - 古人将大雪分为三候：一候鹖鴠不鸣：寒号鸟敛声，天地归于寂静。二候虎始交：阴气至极，阳气萌动，老虎开始求偶。三候荔挺出：兰草感知阳气，抽出新芽。这三候，描绘出大雪时节一幅动静相宜的画卷：在极致的严寒与静谧中，生命正悄然孕育着新的轮回。
    - 大雪养生，核心在于 “藏”。起居之藏：宜“ 早卧晚起，必待日光 ”，顺应自然闭藏之势，深蓄阳气。冬日清晨，不必急于挣脱温暖的被褥。饮食之藏：宜温补，增苦忌咸。一碗热腾的羊肉萝卜汤，或一盅滋润的红枣桂圆粥，最能暖身暖心。心神之藏：宜静养，使志若伏若匿。围炉煮茶，静坐观书，或于雪后漫步，让心神在静谧中得到休憩与滋养。
    - 大雪的严寒，并未冻结生活的热望，反而催生出独有的温情与雅趣。“雪夜围炉暖，一卷慰岁寒” “雪夜围炉暖，一卷慰岁寒” 是旧时文人的冬夜清欢。红泥小火炉映着书页，窗外万籁俱寂，室内神游万里。“小雪腌菜，大雪腌肉”当雪花飘落，家家户户便开始忙着腌制年货，浓浓烟火气，是春节盛宴的序幕。檐头挂着的一串串腊肉、香肠，藏着冬日里最实在的暖乎劲儿。“碌碡顶了门，光喝红黏粥”天寒地冻，农事已歇，人们用石磙抵门，在家安心喝着暖乎乎的红薯粥，享受一年难得的清闲。这份“猫冬”的惬意，是农耕文明对节律的智慧顺应。
    - 结尾：它馈赠我们一个理由放缓脚步，向内观照。它用一片纯白，覆盖喧嚣，让我们听见自己呼吸的节奏，感受到温暖的可贵。这个大雪，愿你也能藏养身心，静守美好。待风雪过后，迎接一个更加明亮、蓬勃的春天。
    """
}

# --- 微信公众号标题生成提示词 ---
TITLE_PROMPT = """
    你是一个公众号爆款标题专家。请基于以下【热点话题】和【目标主题】，结合【选定的风格】，生成5个极其吸引人的公众号标题。

    【要求】：
    1. 区别于小红书，公众号标题要更具深度、悬念或提供高价值感。
    2. 字数限制在25字以内，可以采用二段式标题。
    3. 必须符合选定的语言风格。

    【热点话题数据(Database A)】：{trends}
    【当前风格设定(Database B)】：{style}
    【用户输入主题】：{subject}
    【学习参考（这是我之前的风格，请模仿其调性）】:{examples}
    【参考资料摘要】: {reference_summary} (如果用户上传了文件，请参考此内容)

    请直接输出5个标题，每行一个，不要其他废话。
"""

# --- 微信公众号/视频脚本 内容生成提示词 ---
CONTENT_PROMPT = """
    你是一个全能的新媒体内容专家。请根据以下信息创作内容：

    【内容类型】：{type} (微信公众号文章 OR 视频脚本)
    【标题】：{title}
    【风格设定】：{style}
    【预期篇幅/时长】: {duration} 分钟 (或同等阅读时长的文字量)

    如果是【微信公众号文章】：
    1. 开头：用金句或痛点直接抓住用户。
    2. 正文：逻辑清晰，小标题加粗，段落不要太长（内容类型为低碳科研论文导读时可使用长段落），适当留白。
    3. 结尾：引导关注（Call to Action），引发读者思考或转发。
    4. 如果有参考资料，请深度提炼资料中的核心观点、数据和案例。
    5. 排版清晰，使用Markdown的小标题。
    6. 参考【核心参考资料 (RAG)】:{reference_material}
    【学习参考 (Few-Shot Learning)】:
    请仔细阅读以下我的历史文章，学习我的行文语气、排版格式和用词习惯，但不要照抄内容：
    {examples}

    如果是【视频脚本】：
    1. 格式：严格按照【景别/画面】+【台词】+【时长估算】的表格或分段格式。
    2. 节奏：开头要有钩子，中间要有干货，结尾要有反转或互动。
    3. 总时长控制：严格控制在 {duration} 分钟左右。
    4. 表格格式：画面 | 台词 | 时长。
    5. 将参考资料转化为口语化的表达。



    请开始创作：
"""

